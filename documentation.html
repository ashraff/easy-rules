<!DOCTYPE html>
<html lang="en">
<head>
    <title>Easy Rules</title>
    <meta charset="utf-8">
    <meta name="description" content="Easy Rules is a simple yet powerful Java Rules Engine">
    <meta name="author" content="Mahmoud Ben Hassine">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/gear.ico"/>
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/offcanvas.css" rel="stylesheet" media="screen">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/idea.css" rel="stylesheet">

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-46301888-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</head>
<body>

<div class="navbar navbar-fixed-top navbar-inverse" role="navigation">

    <a href="https://github.com/benas/easy-rules"><img style="position: absolute; top: 0; right: 0; border: 0;" src="img/forkme.png" alt="Fork me on GitHub"></a>

    <div class="container">

        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><i class="fa fa-gears"></i> Easy Rules</a>
        </div>
        <div class="collapse navbar-collapse">
            <p class="navbar-text pull-right">Version: 1.0.0</p>
            <ul class="nav navbar-nav">
                <li><a href="index.html"><i class="fa fa-home"></i> Home</a></li>
                <li><a href="gettingStarted.html"><i class="fa fa-folder-open"></i> Getting started</a></li>
                <li class="active"><a href="documentation.html"><i class="fa fa-book"></i> Documentation</a></li>
                <li><a href="tutorials.html"><i class="fa fa-flask"></i> Tutorials</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container">

<div class="row row-offcanvas row-offcanvas-right">

<div class="col-xs-12 col-sm-9">

<div class="row">

    <h1>Introduction</h1>

    <p>Most business rules can be represented by the following rule definition :</p>

    <ul>
        <li><p>Name : A unique rule name within a rules namespace</p></li>
        <li><p>Description : A brief description of the rule</p></li>
        <li><p>Priority : Rule priority regarding to other rules</p></li>
        <li><p>Conditions : Set of conditions that should be satisfied to apply the rule</p></li>
        <li><p>Actions : Set of actions to perform when conditions are satisfied</p></li>
    </ul>

    <p>Easy Rules provides an abstraction for each of these key points that define a business rule.</p>

</div>

    <div class="row">

        <h1>Easy Rules Key API</h1>

        <p>A rule in Easy Rules is an implementation of the <code>Rule</code> interface :</p>

<pre><code class="java">public interface Rule {

    /**
    * Rule conditions abstraction : this method encapsulates the rule's conditions.
    * @return true if the rule should be applied, false else
    */
    boolean evaluateConditions();

    /**
    * Rule actions abstraction : this method encapsulates the rule's actions.
    * @throws Exception thrown if an exception occurs during actions performing
    */
    void performActions() throws Exception;

    //Getters and setters for rule name, description and priority omitted.

}
</code></pre>

        <p>The <code>evaluateConditions</code> method encapsulates conditions that must evaluate to TRUE to trigger the rule.</p>

        <p>The <code>performActions</code> method encapsulates actions that should be performed when rule's conditions are satisfied.</p>

        <p>Easy Rules provides a simple implementation of the <code>Rule</code> interface named <code>BasicRule</code>. This class implements most of methods</p>

        <p>defined in the <code>Rule</code> interface. To define a rule, you can extends this class and override <code>evaluateConditions</code> and</p>

        <p><code>performActions</code> methods to provide your conditions and actions logic.</p>

        <p>Evaluating conditions and performing actions should be delegated to other objects if used across multiple rules.</p>

    </div>

    <div class="row">
        <h1>Easy Rules engine</h1>

        <p>Easy Rules engine handles a registry of rules with unique names. Each instance of Easy Rules engine can be seen as a separate namespace.
            Rules are applied according to their priorities. By default, lower values represent higher priorities. To override this default behavior, you can extend the <code>BasicRule</code> class
            and override <code>compareTo</code> method to provide a custom priority strategy.</p>

        <p>Easy Rules provide the following parameters:</p>


        <table class="table table-bordered">
            <thead>
            <tr class="active">
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Default  </th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>skipOnFirstAppliedRule</td>
                <td>boolean</td>
                <td>no</td>
                <td>false</td>
                <td>skip next applicable rules when a rule is applied</td>
            </tr>
            <tr>
                <td>rulePriorityThreshold</td>
                <td>int</td>
                <td>no</td>
                <td>10000</td>
                <td>skip next rules if priority exceeds a user defined threshold</td>
            </tr>
            </tbody>
        </table>

        <p>To create an Easy Rules engine and register a rule, you can use the following snippet :</p>

<pre><code class="java">RulesEngine rulesEngine = new DefaultRulesEngine();
rulesEngine.registerRule(myRule);
</code></pre>

        <p>To fire registered rules, you can use the following snippet :</p>

<pre><code class="java">rulesEngine.fireRules();</code></pre>

    </div>

    <div class="row">

        <h1>Composite Rules</h1>

        <p>Easy Rules allows you to create complex rules from primitive ones. A <code>CompositeRule</code> is composed of a set of rules.</p>

        <p>This is typically an implementation of the composite design pattern.</p>

        <p>A composite rule is triggered if all conditions of its composing rules are satisfied.</p>

        <p>When a composite rule is applied, actions of all composing rules are performed in the natural order of</p>

        <p>rules which is rules priorities by default.</p>

        <p>To create a composite rule composed of two primitive rules, you can use the following snippet :</p>

<pre><code class="java">//Create the composite rule from two primitive rules myRule1 and myRule2
CompositeRule myCompositeRule = new CompositeRule("myCompositeRule", "a composite rule", 1);
myCompositeRule.addRule(myRule1);
myCompositeRule.addRule(myRule2);

//Register the composite rule as a regular rule
RulesEngine rulesEngine = new DefaultRulesEngine();
rulesEngine.registerRule(myCompositeRule);
</code></pre>

    </div>

    <div class="row">

        <h1>JMX Managed Rules</h1>

        <p>This is the most interesting feature of Easy Rules. Being able to dynamically reconfigure business rules at runtime in production systems is a recurrent requirement.</p>

        <p>Thanks to JMX, Easy Rules can expose rules attributes to be managed via any JMX compliant client.</p>

        <p>The key API to use this feature is the <code>JmxManagedRule</code> interface which extends the <code>Rule</code> interface to add JMX monitoring and management capabilities.</p>

<pre><code class="java">@javax.management.MXBean
public interface JmxManagedRule extends Rule {
}
</code></pre>

        <p>Easy Rules provides a simple implementation class of this interface called <code>BasicJmxManagedRule</code>.</p>

        <p>To make your rule manageable via JMX, you can extend this class and register it in Easy Rules engine as a <code>JmxManagedRule</code>:</p>

<pre><code class="java">RulesEngine rulesEngine = new DefaultRulesEngine();
rulesEngine.registerJmxManagedRule(myJmxManagedRule);
</code></pre>

        <p>This will register your rule as a JMX managed bean with the following object name : <code>io.github.benas.easyrules.jmx:type=JmxManagedRule,name=YourRuleName</code></p>

        <p>By default, rule description and priority are exposed as JMX manageable attributes. If you need to expose more specific attributes,
            you can extend the <code>JmxManagedRule</code> interface and add getters and setters of your manageable attributes.</p>

        <p>An example of using dynamic rule reconfiguration at runtime is provided in the <a href="tutorials.html#onlineShopTutorial">order tutorial</a>.</p>

    </div>

</div>

<div class="col-xs-6 col-sm-3 sidebar-offcanvas affix-top" id="sidebar" role="navigation">
    <div class="list-group">
        <a href="index.html" class="list-group-item"><i class="fa fa-home"></i> Home</a>
        <a href="gettingStarted.html" class="list-group-item"><i class="fa fa-folder-open"></i> Getting started</a>
        <a href="documentation.html" class="list-group-item active"><i class="fa fa-book"></i> Documentation</a>
        <a href="tutorials.html" class="list-group-item"><i class="fa fa-flask"></i> Tutorials</a>
    </div>
</div>

</div>
<hr>

<footer>
    <div class="container">
        <p class="pull-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></p>

            <p>Easy Rules is maintained by <a href="mailto:md.benhassine@gmail.com?subject=[Easy Rules]"><i
                    class="fa fa-envelope"></i> benas</a> at <a href="https://github.com/benas/easy-rules"><i
                class="fa fa-github-alt"></i> Github</a></p>
    </div>
</footer>

</div>
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

